<!DOCTYPE html>
<!-- saved from url=(0086)https://aws-tc-largeobjects.s3-us-west-2.amazonaws.com/DEV-AWS-MO-GCNv2/lab-7-elb.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width initial-scale=1">

<link href="./lab-7-elb_files/css" rel="stylesheet" type="text/css"><style type="text/css">html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-fences-math .MathJax_SVG_Display, .md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: visible; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-require-zoom-fix foreignobject { font-size: var(--mermaid-font-zoom); }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-math .MathJax_SVG_Display { margin-top: 8px; cursor: default; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}



</style><title>lab-7-elb</title>
</head>
<body class="typora-export os-windows" data-new-gr-c-s-check-loaded="14.1075.0" data-gr-ext-installed=""><div class="typora-export-content">
<div id="write" class=""><p><em><span>[version_1.0]</span></em><span> </span></p><p><span>©2019 Amazon Web Services, Inc. and its affiliates. All rights reserved. This work may not be reproduced or redistributed, in whole or in part, without prior written permission from Amazon Web Services, Inc. Commercial copying, lending, or selling is prohibited.</span></p><p><span>Errors or corrections? Contact us at </span><a href="https://support.aws.amazon.com/#/contacts/aws-training" target="_blank" class="url">https://support.aws.amazon.com/#/contacts/aws-training</a></p><h1 id="exercise-elb"><span>Exercise: ELB</span></h1><p><em><span>The exercises are designed to be completed in your AWS account, and </span><strong><span>will have an associated cost.</span></strong><span> For this reason, in addition to the written instructions, this course includes video recordings of the exercises. If you intend to attempt the exercises, familiarize yourself with </span><a href="https://aws.amazon.com/pricing/"><span>AWS pricing</span></a><span>, specifically </span><a href="https://aws.amazon.com/ec2/pricing/"><span>Amazon EC2 pricing</span></a><span>, </span><a href="https://aws.amazon.com/s3/pricing/"><span>Amazon S3 pricing</span></a><span>, and </span><a href="https://aws.amazon.com/dynamodb/pricing/"><span>Amazon DynamoDB pricing</span></a><span> and the </span><a href="https://aws.amazon.com/free/"><span>AWS Free Tier</span></a><span>.</span></em></p><p><span>For this scenario, you have been tasked with setting up an Elastic Load Balancer and an AutoScaling group, so your application can horizontally scale. </span></p><p><span>In this exercise, you will create an Application Load balancer and a launch template. Then, you will set up an AutoScaling group that uses the Load Balancer and launch template you created. Finally, you will test and stress the application and watch your application scale in real time. </span></p><h2 id="lab-steps"><span>Lab Steps</span></h2><h3 id="stage-0---launch-an-ec2-instance"><span>Stage 0 - Launch an EC2 Instance </span></h3><ol start=""><li><p><span>Search for </span><strong><span>EC2</span></strong><span> in the search bar at the top. Choose </span><strong><span>EC2</span></strong><span>.</span></p></li><li><p><span>Choose </span><strong><span>Instances</span></strong><span> under </span><strong><span>Instances</span></strong><span> at the left side panel. </span></p></li><li><p><span>Select the </span><code>employee-directory-app-lab6</code><span> instance. Which should be in the </span><strong><span>Stopped</span></strong><span> state.</span></p></li><li><p><span>Choose </span><strong><span>Actions</span></strong><span>. </span><strong><span>Image and templates</span></strong><span> and </span><strong><span>Launch more like this</span></strong><span>.</span></p></li><li><p><span>At the top, choose </span><strong><span>3. Configure instance</span></strong><span>.</span></p></li><li><p><span>Next to </span><strong><span>Auto-assign Public IP</span></strong><span>, choose </span><strong><span>Enable</span></strong><span>. </span></p></li><li><p><span>At the top, choose </span><strong><span>5. Add Tags</span></strong><span>. Remove </span><code>lab6</code><span> at the end of the </span><strong><span>value</span></strong><span> and append </span><code>lab7</code><span> instead.</span></p><p><span>Example:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">employee-directory-app-lab7</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre></li><li><p><span>Choose </span><strong><span>Review and Launch</span></strong><span>. Choose </span><strong><span>Launch</span></strong><span>.</span></p></li><li><p><span>Leave the </span><code>app-key-pair</code><span> selected under </span><strong><span>Select a key pair</span></strong><span>. Select the acknowledgement.</span></p></li><li><p><span>Choose </span><strong><span>Launch Instances</span></strong><span>. </span></p></li><li><p><span>Choose </span><strong><span>View Instances</span></strong><span>. The instance should now show up under </span><strong><span>Instances</span></strong><span>. Wait for the </span><strong><span>Instance state</span></strong><span> to change to </span><strong><span>Running</span></strong><span> and the </span><strong><span>Status check</span></strong><span> to change to </span><strong><span>2/2 checks passed</span></strong><span>.</span></p></li><li><p><span>Next to </span><strong><span>Name</span></strong><span>, choose the checkbox to select the </span><code>employee-directory-app-lab6</code><span> instance.  Under the </span><strong><span>Details</span></strong><span> tab copy down the </span><strong><span>Public IPv4 address</span></strong><span>. </span></p></li><li><p><span>Paste it into a new browser tab/window. You should see a </span><strong><span>Employee Directory</span></strong><span> placeholder. Right now you will not be able to interact with it as it's not currently connected to the database. </span></p></li></ol><h3 id="stage-1---create-load-balancer"><span>Stage 1 - Create Load Balancer</span></h3><ol start=""><li><p><span>In the EC2 console, on the left side panel under </span><strong><span>Load Balancing</span></strong><span>, choose </span><strong><span>Load Balancers</span></strong><span>.</span></p></li><li><p><span>Choose </span><strong><span>Create Load Balancer</span></strong><span>. Choose </span><strong><span>Create</span></strong><span> under the </span><strong><span>Application Load Balancer</span></strong><span>.</span></p></li><li><p><span>For the </span><strong><span>Name</span></strong><span> paste in </span><code>app-elb</code><span>. Under </span><strong><span>Availability Zones</span></strong><span> for the </span><strong><span>VPC</span></strong><span>, choose the </span><code>app-vpc</code><span>. Select both </span><strong><span>Availability Zones</span></strong><span>.</span></p><p><span>Example: If you are in US West (Oregon) you would choose both </span><strong><span>us-west-2a</span></strong><span> and </span><strong><span>us-west-2b</span></strong><span>.</span></p></li><li><p><span>Choose </span><strong><span>Select a subnet</span></strong><span> and choose </span><code>Public Subnet 1</code><span> for the first AZ and </span><code>Public Subnet 2</code><span> for the second AZ.</span></p></li><li><p><span>Choose </span><strong><span>Next: Configure Security Groups</span></strong><span>. </span></p></li><li><p><span>Again choose </span><strong><span>Next: Configure Security Groups</span></strong><span>. Next to </span><strong><span>Assign a security group</span></strong><span> choose </span><strong><span>Create a new security group</span></strong><span>. Next to </span><strong><span>Security group name</span></strong><span> paste in </span><code>load-balancer-sg</code><span>. </span></p></li><li><p><span>Remove the existing rule by clicking on the </span><strong><span>X</span></strong><span> at the right.</span></p></li><li><p><span>Choose </span><strong><span>Add Rule</span></strong><span>. For the </span><strong><span>Type</span></strong><span> choose </span><strong><span>HTTP</span></strong><span>. For </span><strong><span>Source</span></strong><span> choose </span><strong><span>Anywhere</span></strong><span>.</span></p></li><li><p><span>Choose </span><strong><span>Next: Configure Routing</span></strong><span>. </span></p></li><li><p><span>Under </span><strong><span>Target group</span></strong><span> next to </span><strong><span>Name</span></strong><span> paste in </span><code>app-target-group</code><span>.</span></p></li><li><p><span>Under </span><strong><span>Health checks</span></strong><span> expand </span><strong><span>Advanced health check settings</span></strong><span>. </span></p></li><li><p><span>Change the </span><strong><span>Healthy threshold</span></strong><span> to </span><code>2</code><span>. Change the </span><strong><span>Unhealthy threshold</span></strong><span> to </span><code>5</code><span>. </span></p></li><li><p><span>Change the </span><strong><span>Timeout</span></strong><span> to </span><code>30</code><span>. Change the </span><strong><span>Interval</span></strong><span> to </span><code>40</code><span>. Choose </span><strong><span>Next: Register Targets</span></strong><span>.</span></p></li><li><p><span>Under </span><strong><span>Instances</span></strong><span> select the checkbox next to the </span><code>employee-directory-app-lab7</code><span> instance and choose </span><strong><span>Add to registered</span></strong><span>.</span></p></li><li><p><span>Choose </span><strong><span>Next: Review</span></strong><span>. Choose </span><strong><span>Create</span></strong><span>. Once it's successfully created choose </span><strong><span>Close</span></strong><span>.</span></p><p><strong><span>Note</span></strong><span>: Wait for the </span><strong><span>State</span></strong><span> to change from provisioning to </span><strong><span>active</span></strong><span>. Refresh the page while you wait. </span></p></li><li><p><span>Select the </span><code>app-elb</code><span> and copy the </span><strong><span>DNS</span></strong><span> name and paste it into a notepad. Edit the DNS name to include an http:// in front of the URL, to look like the following: </span></p><p><code>http://app-elb-000000000.us-west-2.elb.amazonaws.com</code></p></li><li><p><span>Copy the DNS name with http:// and paste it into a new browser tab or window. You should see the employee directory application.</span></p></li></ol><h3 id="stage-2---create-launch-template"><span>Stage 2 - Create launch template</span></h3><p><span>Now that you can access your application from a singular DNS name, it's time to horizontally scale! To do this, the first thing you need is a launch template. </span></p><ol start=""><li><p><span>Back in the AWS Management Console, search for </span><strong><span>EC2</span></strong><span> in the service search bar. Then, choose EC2. On the left side panel, choose </span><strong><span>Launch Templates</span></strong><span> under the </span><strong><span>Instances</span></strong><span> header. </span></p></li><li><p><span>Choose </span><strong><span>Create launch template</span></strong><span>. Under </span><strong><span>Launch template name</span></strong><span> paste in </span><code>app-launch-template</code><span>.</span></p></li><li><p><span>Under </span><strong><span>Template version description</span></strong><span> paste in </span><code>A web server for the employee directory application</code><span>.</span></p></li><li><p><span>Under </span><strong><span>Auto Scaling guidance</span></strong><span> check the box for </span><strong><span>Provide guidance to help me set up a template that I can use with EC2 Auto Scaling</span></strong><span>. </span></p></li><li><p><span>Under </span><strong><span>AMI</span></strong><span> choose the </span><strong><span>Amazon Linux 2 AMI (HVM), SSD Volume Type</span></strong><span>.</span></p></li><li><p><span>Under </span><strong><span>Instance type</span></strong><span> choose the </span><strong><span>t2.micro</span></strong><span>.</span></p></li><li><p><span>Under </span><strong><span>Key pair name</span></strong><span> choose the </span><code>app-key-pair</code><span>. </span></p></li><li><p><span>Under </span><strong><span>Network settings</span></strong><span> and </span><strong><span>Security group</span></strong><span> choose the </span><code>web-security-group</code><span>.</span></p></li><li><p><span>Expand </span><strong><span>Advanced details</span></strong><span> and under </span><strong><span>IAM instance profile</span></strong><span>. Choose </span><code>S3DynamoDBFullAccessRole</code><span>.</span></p></li><li><p><span>Scroll down to </span><strong><span>User data</span></strong><span> and paste in the following information:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#!/bin/bash -ex</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">wget</span> https://aws-tc-largeobjects.s3-us-west-2.amazonaws.com/DEV-AWS-MO-GCNv2/FlaskApp.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">unzip FlaskApp.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cd</span> FlaskApp/</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">yum <span class="cm-attribute">-y</span> install python3 mysql</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">pip3 install <span class="cm-attribute">-r</span> requirements.txt</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">amazon-linux-extras install epel</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">yum <span class="cm-attribute">-y</span> install stress</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">PHOTOS_BUCKET</span><span class="cm-operator">=</span><span class="cm-def">${SUB_PHOTOS_BUCKET}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">AWS_DEFAULT_REGION</span><span class="cm-operator">=</span>&lt;INSERT REGION HERE&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">DYNAMO_MODE</span><span class="cm-operator">=</span>on</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">FLASK_APP</span><span class="cm-operator">=</span>application.py /usr/local/bin/flask run <span class="cm-attribute">--host</span><span class="cm-operator">=</span><span class="cm-number">0</span>.0.0.0 <span class="cm-attribute">--port</span><span class="cm-operator">=</span><span class="cm-number">80</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 299px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><p><span>Change the following line to match your region:</span></p><p><strong><span>Note:</span></strong><span> You can find this at the top right next to your user name.  </span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">AWS_DEFAULT_REGION</span><span class="cm-operator">=</span>&lt;INSERT REGION HERE&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>Example:</span></p><p><strong><span>Note:</span></strong><span> US West (Oregon) </span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">AWS_DEFAULT_REGION</span><span class="cm-operator">=</span>us-west-2</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>Also change the bucket variable to match your bucket:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">PHOTOS_BUCKET</span><span class="cm-operator">=</span>&lt;INSERT_BUCKET_NAME&gt;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Example:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">PHOTOS_BUCKET</span><span class="cm-operator">=</span>employee-photo-bucket-al-007</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 92px;"></div></div></div></pre></li><li><p><span>Finally choose </span><strong><span>Create launch template</span></strong><span>. </span></p></li></ol><h3 id="stage-3---create-asg"><span>Stage 3 - Create ASG</span></h3><ol start=""><li><span>Choose </span><strong><span>View Launch templates</span></strong><span>. On the left side panel, under the </span><strong><span>Auto Scaling</span></strong><span> header, choose </span><strong><span>Auto Scaling Groups</span></strong><span>. </span></li><li><span>Choose </span><strong><span>Create Auto Scaling group</span></strong><span>. Under </span><strong><span>Auto Scaling group name</span></strong><span> paste in </span><code>app-asg</code><span>.</span></li><li><span>Under </span><strong><span>Launch template</span></strong><span> choose the </span><code>app-launch-template</code><span>. Choose </span><strong><span>Next</span></strong><span>. </span></li><li><span>Under </span><strong><span>Network</span></strong><span> and </span><strong><span>VPC</span></strong><span> choose the </span><code>app-vpc</code><span>. Choose </span><code>Public Subnet 1</code><span> and </span><code>Public Subnet 2</code><span>. Choose </span><strong><span>Next</span></strong><span>.</span></li><li><span>Under </span><strong><span>Load balancing</span></strong><span> choose </span><strong><span>Attach to an existing load balancer</span></strong><span>. Under </span><strong><span>Attach to an existing load balancer</span></strong><span> choose </span><strong><span>Choose from you load balancer target groups</span></strong><span>. </span></li><li><span>Under </span><strong><span>Existing load balancer target groups</span></strong><span> choose </span><strong><span>Select target groups</span></strong><span>. Choose the </span><code>app-target-group</code><span>.</span></li><li><span>Under </span><strong><span>Health checks</span></strong><span> choose </span><strong><span>ELB</span></strong><span>. Choose </span><strong><span>Next</span></strong><span>.</span></li><li><span>Under </span><strong><span>Group size</span></strong><span> change the </span><strong><span>Desired capacity</span></strong><span> to </span><code>2</code><span>. </span></li><li><span>Change the </span><strong><span>Minimum capacity</span></strong><span> to </span><code>2</code><span>.</span></li><li><span>Change the </span><strong><span>Maximum capacity</span></strong><span> to </span><code>4</code><span>. </span></li><li><span>Under </span><strong><span>Scaling policies</span></strong><span> choose </span><strong><span>Target tracking scaling policy</span></strong><span>.</span></li><li><span>Change the </span><strong><span>Target value</span></strong><span> to </span><code>60</code><span>. Change the </span><strong><span>Instances need</span></strong><span> to </span><code>300</code><span>. Choose </span><strong><span>Next</span></strong><span>. </span></li><li><span>Under </span><strong><span>Add notifications</span></strong><span> choose </span><strong><span>Add notification</span></strong><span>.</span></li><li><span>Under </span><strong><span>SNS Topic</span></strong><span> choose </span><strong><span>Create a topic</span></strong><span>. Under </span><strong><span>Send a notification to:</span></strong><span> paste in </span><code>app-sns-topic</code><span>. Under </span><strong><span>With these recipients</span></strong><span> paste in your email address. Choose </span><strong><span>Next</span></strong><span>.</span></li><li><span>Choose </span><strong><span>Next</span></strong><span>. Choose </span><strong><span>Create Auto Scaling group</span></strong><span>. </span></li><li><span>You should have received an </span><strong><span>AWS Notification - Subscription Confirmation</span></strong><span>. In the email, choose </span><strong><span>Confirm subscription</span></strong><span>. </span></li></ol><h3 id="stage-4---test-the-application"><span>Stage 4 - Test the application</span></h3><ol start=""><li><p><span>Under </span><strong><span>Load Balancing</span></strong><span> on the left side panel, choose </span><strong><span>Target Groups</span></strong><span>. Select the name of the </span><code>app-target-group</code><span>. Choose the </span><strong><span>Targets</span></strong><span> tab. You should see two additional instances launching. Wait until the </span><strong><span>Status</span></strong><span> shows as healthy. </span></p></li><li><p><span>Under </span><strong><span>Load Balancing</span></strong><span> on the left side panel, select </span><strong><span>Load Balancers</span></strong><span> and select the </span><code>app-elb</code><span>. Again, copy the </span><strong><span>DNS</span></strong><span> name and append http:// to the beginnng of it. </span></p></li><li><p><span>Paste it into a new browser tab or window. Append </span><code>/info</code><span> to the URL.</span></p><p><span>Example: </span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://app-elb-0000000000.us-west-2.elb.amazonaws.com/info</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>You should be presented with </span><strong><span>Instance Info</span></strong><span> which will show you which </span><strong><span>instance_id</span></strong><span> and </span><strong><span>availability_zone</span></strong><span> you are being routed to. Refresh the page a few times and you will notice you are being routed to a different </span><strong><span>instance_id</span></strong><span> and </span><strong><span>availability_zone</span></strong><span>.</span></p></li><li><p><span>Now, you will need to stress the CPU of the instance in order to test Auto Scaling. </span></p></li><li><p><span>Next to </span><strong><span>Stress cpu:</span></strong><span> choose </span><strong><span>10 min</span></strong><span>. At the top you will notice it now says </span><strong><em><span>Stressing CPU</span></em></strong><span>.</span></p><p><strong><span>Note</span></strong><span>: Go grab a beverage as you wait :)</span></p></li><li><p><span>After the 10 minutes are up, go back in the EC2 Console. Under </span><strong><span>Load Balancing</span></strong><span> on the left side panel, choose </span><strong><span>Target Groups</span></strong><span>. Choose the </span><code>app-target-group</code><span>. Choose the </span><strong><span>Targets</span></strong><span> tab. </span></p></li><li><p><span>You should see additional instances being spun up due to the stress test. You should also see a notification email as well. </span></p></li></ol><h3 id="stage-5---delete-course-resources"><span>Stage 5 - Delete Course Resources</span></h3><ol start=""><li><span>To ensure that you don't incur additional costs, please ensure that you delete all resources in the AWS account you created. </span></li><li><span>In the EC2 console, on the left side panel, choose </span><strong><span>Auto Scaling groups</span></strong><span>. Select the app-asg and select delete. Type </span><strong><span>delete</span></strong><span> in the text box to confirm your deletion. </span></li><li><span>In the EC2 console, on the left side panel, choose </span><strong><span>Load Balancers</span></strong><span>. Select the </span><code>app-elb</code><span> and select </span><strong><span>Actions</span></strong><span> and then </span><strong><span>delete</span></strong><span>. Choose </span><strong><span>Yes, Delete</span></strong><span>.</span></li><li><span>In the EC2 console, on the left side panel, choose Target Groups. Select the </span><code>app-target-group</code><span> and select </span><strong><span>Actions</span></strong><span> and then </span><strong><span>delete</span></strong><span>. Choose </span><strong><span>Yes, Delete</span></strong></li><li><span>In the EC2 console, on the left side panel, choose Instances. Terminate all EC2 instances you created in this course. Select the checkbox next to the instances you want to delete (all instances starting with </span><code>employee-directory-app</code><span>) and then select </span><strong><span>Instance State</span></strong><span>. Then, choose </span><strong><span>Terminate Instance</span></strong><span>. </span></li><li><span>In the DynamoDB console, on the left side panel, click on </span><strong><span>Tables</span></strong><span>. Then, click the circle next to the </span><code>Employees</code><span> table. Choose </span><strong><span>Delete Table</span></strong><span>. Type in the word </span><code>delete</code><span> and select </span><strong><span>Delete</span></strong><span>. </span></li><li><span>In the S3 console, find the employee-photo-bucket. Select the circle next to the bucket you created. Then, choose </span><strong><span>Empty</span></strong><span>. Type in </span><code>permanently delete</code><span> in the text field. Select </span><strong><span>Empty</span></strong><span>. Choose </span><strong><span>Exit</span></strong><span>. Now, choose </span><strong><span>Delete</span></strong><span>. Type in the name of your bucket in the text field and choose </span><strong><span>Delete bucket</span></strong><span>. </span></li><li><span>In the VPC console, on the left side panel, click on Route Tables. Select the checkbox next to </span><strong><span>app-route-table-public</span></strong><span> and click on the </span><strong><span>Subnet Associations</span></strong><span> tab. Select </span><strong><span>Edit subnet associations</span></strong><span>. Deselect the boxes next to both Public Subnets and click </span><strong><span>save</span></strong><span>. Select </span><strong><span>Actions</span></strong><span> and then </span><strong><span>Delete</span></strong><span>. Then, choose Delete Route Table again. Follow the same steps for </span><strong><span>app-route-table-private</span></strong><span>. </span></li><li><span>In the VPC console, on the left side panel, click on </span><strong><span>Internet Gateways.</span></strong><span> Select the app-igw and choose </span><strong><span>Detach from VPC</span></strong><span> and choose </span><strong><span>Detach Internet Gateway</span></strong><span>. Then, click </span><strong><span>Actions</span></strong><span> and select </span><strong><span>Delete Internet Gateway</span></strong><span>. Type in delete in the text field and select </span><strong><span>Delete Internet Gateway</span></strong><span>. </span></li><li><span>In the VPC console, on the left side panel, select </span><strong><span>Subnets</span></strong><span>. Select the boxes next to Public Subnet 1, Public Subnet 2, Private Subnet 1, and Private Subnet 2. Select </span><strong><span>Actions</span></strong><span> and then </span><strong><span>delete subnet</span></strong><span>. Type </span><code>delete</code><span> in the text field. Then, choose </span><strong><span>Delete</span></strong><span>. </span></li><li><span>In the VPC console, on the left side panel, select </span><strong><span>Your VPCs</span></strong><span>. Select the checkbox next to app-vpc. Select </span><strong><span>Actions</span></strong><span> and then </span><strong><span>Delete VPC</span></strong><span>. Type </span><code>delete</code><span> in the text field and then choose </span><strong><span>Delete</span></strong><span>. </span></li></ol><h3 id="lab-complete"><span>Lab Complete</span></h3><p><span>	</span><span> Congratulations! You have completed the lab.</span></p><p><span>	</span><span>For feedback, suggestions, or corrections, please contact us at:</span><a href="https://support.aws.amazon.com/#/contacts/aws-training" target="_blank" class="url">https://support.aws.amazon.com/#/contacts/aws-training</a></p><p>&nbsp;</p></div></div>

</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>